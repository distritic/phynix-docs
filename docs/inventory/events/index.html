<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Phynix Project RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Phynix Project Atom Feed"><title data-react-helmet="true">Events | Phynix Project</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.phynix.gg/docs/inventory/events"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Events | Phynix Project"><meta data-react-helmet="true" name="description" content="Server-side"><meta data-react-helmet="true" property="og:description" content="Server-side"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.phynix.gg/docs/inventory/events"><link data-react-helmet="true" rel="alternate" href="https://docs.phynix.gg/docs/inventory/events" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.phynix.gg/docs/inventory/events" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.68bc88ec.css">
<link rel="preload" href="/assets/js/runtime~main.7e4f86bb.js" as="script">
<link rel="preload" href="/assets/js/main.8a9bd2fd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Phynix Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="Phynix Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Phynix Project</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/phynix/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Characters</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Users</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Items</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Utilities</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Inventory</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/inventory/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/inventory/commands">Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/inventory/events">Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/inventory/exports">Exports</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Events</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="server-side">Server-side<a aria-hidden="true" class="hash-link" href="#server-side" title="Direct link to heading">â€‹</a></h2><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</h5></div><div class="admonition-content"><p>All the events which parse the player <code>src</code> as an argument below <strong>must</strong> be triggered by the server, this is a safety feature. If you try to trigger such an event from the client-side, it may result in false bans from the anti-cheat system.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventoryexitedinventory">inventory:exitedInventory<a aria-hidden="true" class="hash-link" href="#inventoryexitedinventory" title="Direct link to heading">â€‹</a></h3><p>Triggered when the player has exited their inventory, this event will save inventory state flag the inventory as available. This event may be triggered by either the client or server. The server will override the <code>src</code> parameter if triggered by a client.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">AddEventHandler(&quot;inventory:exitedInventory&quot;, function(src --[[int]], playerDropped --[[bool]])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- src: the Id of player which has exited their inventory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- playerDropped: a flag indicating whether the player disconnected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventoryfetchopeninventory">inventory:fetchOpenInventory<a aria-hidden="true" class="hash-link" href="#inventoryfetchopeninventory" title="Direct link to heading">â€‹</a></h3><p>Triggered by the client when the player opens their inventory.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">AddEventHandler(&quot;inventory:fetchOpenInventory&quot;, function(nearestDropInv --[[string]])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--- nearestDropInv: the nearest inventory where the player can drop items</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventorycreateinventory">inventory:createInventory<a aria-hidden="true" class="hash-link" href="#inventorycreateinventory" title="Direct link to heading">â€‹</a></h3><p>This event will create a new empty inventory and store it in the database, it will be persistent between sessions.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:createInventory&quot;, invName --[[string]], maxRows --[[int]], maxWeight --[[int]], clearInventory --[[bool]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- invName: the inventory name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxRows: maximum number of rows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxWeight: maximum weight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- clearInventory?: if the inventory already exists, simply clear it</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>You must ensure that all inventory names are unique, otherwise the database will throw a key error or the cache may overwrite with data from another inventory.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventoryopensecondaryinventory">inventory:openSecondaryInventory<a aria-hidden="true" class="hash-link" href="#inventoryopensecondaryinventory" title="Direct link to heading">â€‹</a></h3><p>This event will open a persistent inventory, and cache it if not already opened before.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:openSecondaryInventory&quot;, invName --[[string]], src --[[int]], createIfNotExists --[[bool]], maxRows --[[int]], maxWeight --[[int]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- invName: the inventory name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- src: the player which is opening the inventory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- createIfNotExists?: create the inventory if it does not exist, and open it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxRows?: if creating, set the maximum number of rows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxWeight?: if creating, set the maximum weight</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventorysetinventory">inventory:setInventory<a aria-hidden="true" class="hash-link" href="#inventorysetinventory" title="Direct link to heading">â€‹</a></h3><p>This event will set the values of a persistent inventory, and create it if it does not exist.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:setInventory&quot;, invName --[[string]], maxRows --[[int]], maxWeight --[[int]], weight --[[int]], items --[[table]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- invName: the inventory name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxRows: maximum number of rows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxWeight: maximum weight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- weight: current weight level</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- items: dictionary of indexed items</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventorycreatesecondaryinventorytemp">inventory:createSecondaryInventoryTemp<a aria-hidden="true" class="hash-link" href="#inventorycreatesecondaryinventorytemp" title="Direct link to heading">â€‹</a></h3><p>This event will create a new empty inventory and only cache it, it will <strong>not</strong> be persistent between sessions.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:createSecondaryInventoryTemp&quot;, invName --[[string]], maxRows --[[int]], maxWeight --[[int]], weight --[[int]], items --[[table]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- invName: the inventory name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxRows: maximum number of rows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxWeight: maximum weight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- weight: current weight level</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- items: dictionary of indexed items</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>You must ensure that all inventory names are unique, otherwise the database will throw a key error or the cache may overwrite with data from another inventory.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventoryopensecondaryinventorytemp">inventory:openSecondaryInventoryTemp<a aria-hidden="true" class="hash-link" href="#inventoryopensecondaryinventorytemp" title="Direct link to heading">â€‹</a></h3><p>This event will open a temporary inventory, and cache it for the current session only.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:openSecondaryInventoryTemp&quot;, invName --[[string]], src --[[int]], createIfNotExists --[[bool]], maxRows --[[int]], maxWeight --[[int]], weight --[[int]], items --[[table]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- invName: the inventory name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- src: the player which is opening the inventory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- createIfNotExists?: create the inventory if it does not exist, and open it</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxRows?: if creating, set the maximum number of rows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxWeight?: if creating, set the maximum weight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- weight?: if creating, current weight level</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- items?: if creating, dictionary of indexed items</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventorysetinventorytemp">inventory:setInventoryTemp<a aria-hidden="true" class="hash-link" href="#inventorysetinventorytemp" title="Direct link to heading">â€‹</a></h3><p>This event will set the values of a temporary inventory.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:setInventoryTemp&quot;, invName --[[string]], maxRows --[[int]], maxWeight --[[int]], weight --[[int]], items --[[table]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- invName: the inventory name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxRows: maximum number of rows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- maxWeight: maximum weight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- weight: current weight level</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- items: dictionary of indexed items</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventoryopenplayerinventory">inventory:openPlayerInventory<a aria-hidden="true" class="hash-link" href="#inventoryopenplayerinventory" title="Direct link to heading">â€‹</a></h3><p>This event will open the inventory of another player.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:openPlayerInventory&quot;, src --[[int]], target --[[int]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- src: the player which is opening the other players inventory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- target: the target player</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventoryopenbuyinventory">inventory:openBuyInventory<a aria-hidden="true" class="hash-link" href="#inventoryopenbuyinventory" title="Direct link to heading">â€‹</a></h3><p>This event will open a special inventory where the character can buy items.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:openBuyInventory&quot;, src --[[int]], buyData --[[table]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- src: target player Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- buyData: dictionary of indexed items</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The parameter <code>buyData</code> is a special inventory, and structured like so:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;name&quot;] = &quot;buy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;weight&quot;] = 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;max_weight&quot;] = 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;rows&quot;] = 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;log&quot;] = &quot;buy-log&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;tax&quot;] = true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;items&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&quot;0&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;name&quot;] = &quot;pistol&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;label&quot;] = &quot;Pistol&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;weapon&quot;] = true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;quantity&quot;] = 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;weight&quot;] = 12,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;stackable&quot;] = false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;price&quot;] = 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This inventory name <strong>does not</strong> need to be unique, as it is not cached or stored. </p><ul><li>The item attribute <code>weapon</code> will create a serial number for the item when it is purchased, and assign it in item metadata.</li><li>The inventory attribute <code>log</code> will create a log for the purchase to the corresponding log name (in this case <code>buy-log</code>).</li><li>The inventory attribute <code>tax</code> will add the standard tax rate to each item as assigned in the <code>px_state</code> resource.</li></ul><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>When naming a log file, ensure it abides by all OS file name restrictions - otherwise your log may not be created.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventoryopensellinventory">inventory:openSellInventory<a aria-hidden="true" class="hash-link" href="#inventoryopensellinventory" title="Direct link to heading">â€‹</a></h3><p>This event will open a special inventory where the character can sell items.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:openSellInventory&quot;, src --[[int]], sellData --[[table]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- src: target player Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- sellData: dictionary of indexed items</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The parameter <code>sellData</code> is a special inventory, and structured like so:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;name&quot;] = &quot;sell&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;weight&quot;] = 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;max_weight&quot;] = 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;rows&quot;] = 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;log&quot;] = &quot;sell-log&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;items&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&quot;0&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;name&quot;] = &quot;pistol&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;label&quot;] = &quot;Pistol&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;quantity&quot;] = 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;weight&quot;] = 12,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;stackable&quot;] = false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;price&quot;] = 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&quot;1&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;name&quot;] = &quot;animalpelt&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;label&quot;] = &quot;Animal Pelt&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;quantity&quot;] = 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;weight&quot;] = 5,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;stackable&quot;] = false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;price&quot;] = &quot;50 + VAR&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;priceMethod&quot;] = function(itemData, quantity)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return itemData.rarity * 50 * quantity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      end,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;desc&quot;] = &quot;Sale price is variable on the type of animal pelt provided.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This inventory name <strong>does not</strong> need to be unique, as it is not cached or stored. </p><ul><li>The inventory attribute <code>log</code> will create a log for the purchase to the corresponding log name (in this case <code>sell-log</code>).</li><li>An item may have a variable sell price determined by its metadata. This can be determined by the use of a <code>priceMethod</code> function, which takes in parameterized item metadata and returns a price.</li></ul><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>When naming a log file, ensure it abides by all OS file name restrictions - otherwise your log may not be created.</p></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="inventoryopencraftinventory">inventory:openCraftInventory<a aria-hidden="true" class="hash-link" href="#inventoryopencraftinventory" title="Direct link to heading">â€‹</a></h3><p>This event will open a special inventory where the character can craft items.</p><div class="codeBlockContainer_J+bg"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_oQzk">server/main.lua</div><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">TriggerEvent(&quot;inventory:openCraftInventory&quot;, src --[[int]], craftData --[[table]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- src: target player Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-- craftData: dictionary of indexed items</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The parameter <code>craftData</code> is a special inventory, and structured like so:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI lua"><pre tabindex="0" class="prism-code language-lua codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;name&quot;] = &quot;craft&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;weight&quot;] = 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;max_weight&quot;] = 0.0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;rows&quot;] = 10,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [&quot;items&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [&quot;0&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;name&quot;] = &quot;pistol&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;label&quot;] = &quot;Pistol&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;quantity&quot;] = 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;weight&quot;] = 12,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [&quot;recipe&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [&quot;aluminum&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label = &quot;Aluminum&quot;, quantity = 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [&quot;steel&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label = &quot;Steel&quot;, quantity = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [&quot;plastic&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label = &quot;Plastic&quot;, quantity = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        [&quot;rubber&quot;] = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label = &quot;Rubber&quot;, quantity = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This inventory name <strong>does not</strong> need to be unique, as it is not cached or stored.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/inventory/events.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/inventory/commands"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Commands</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/inventory/exports"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Exports<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#server-side" class="table-of-contents__link toc-highlight">Server-side</a><ul><li><a href="#inventoryexitedinventory" class="table-of-contents__link toc-highlight">inventory:exitedInventory</a></li><li><a href="#inventoryfetchopeninventory" class="table-of-contents__link toc-highlight">inventory:fetchOpenInventory</a></li><li><a href="#inventorycreateinventory" class="table-of-contents__link toc-highlight">inventory:createInventory</a></li><li><a href="#inventoryopensecondaryinventory" class="table-of-contents__link toc-highlight">inventory:openSecondaryInventory</a></li><li><a href="#inventorysetinventory" class="table-of-contents__link toc-highlight">inventory:setInventory</a></li><li><a href="#inventorycreatesecondaryinventorytemp" class="table-of-contents__link toc-highlight">inventory:createSecondaryInventoryTemp</a></li><li><a href="#inventoryopensecondaryinventorytemp" class="table-of-contents__link toc-highlight">inventory:openSecondaryInventoryTemp</a></li><li><a href="#inventorysetinventorytemp" class="table-of-contents__link toc-highlight">inventory:setInventoryTemp</a></li><li><a href="#inventoryopenplayerinventory" class="table-of-contents__link toc-highlight">inventory:openPlayerInventory</a></li><li><a href="#inventoryopenbuyinventory" class="table-of-contents__link toc-highlight">inventory:openBuyInventory</a></li><li><a href="#inventoryopensellinventory" class="table-of-contents__link toc-highlight">inventory:openSellInventory</a></li><li><a href="#inventoryopencraftinventory" class="table-of-contents__link toc-highlight">inventory:openCraftInventory</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/characters/class/get-object">Characters</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/users/class/get-object">Users</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/items/intro">Items</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/utils/library">Utilities</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/inventory/intro">Inventory</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/phynix/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Phynix Project</div></div></div></footer></div>
<script src="/assets/js/runtime~main.7e4f86bb.js"></script>
<script src="/assets/js/main.8a9bd2fd.js"></script>
</body>
</html>